{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/galad/Downloads/college/Nebula/frontend/app/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Hero from '@/components/ui/animated-shader-hero';\r\nimport NebulaGraph from '@/components/NebulaGraph'; // Ensure this path matches where you put NebulaGraph.js\r\nimport axios from 'axios';\r\n\r\nexport default function Home() {\r\n  const [view, setView] = useState('LANDING'); // 'LANDING' or 'GRAPH'\r\n  const [nodes, setNodes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedMovie, setSelectedMovie] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Function to switch to graph view\r\n  const launchGraph = async () => {\r\n    setLoading(true);\r\n    try {\r\n        // Fetch initial data from your Python Backend\r\n        const res = await axios.get('http://127.0.0.1:8000/graph');\r\n        setNodes(res.data.nodes);\r\n        setView('GRAPH');\r\n    } catch (e) {\r\n        console.error(\"Backend offline?\", e);\r\n        alert(\"Could not connect to Nebula Backend. Is uvicorn running?\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n        const res = await axios.post('http://127.0.0.1:8000/search', { query: searchQuery, top_k: 20 });\r\n        const newNodes = res.data.map(m => ({ ...m, val: 5 }));\r\n        setNodes(newNodes);\r\n    } catch (e) { console.error(e); }\r\n  };\r\n\r\n  // --- View 1: The Graph (Discovery Engine) ---\r\n  if (view === 'GRAPH') {\r\n    return (\r\n        <div className=\"relative w-full h-screen bg-black\">\r\n             {/* Nav */}\r\n             <div className=\"absolute top-5 left-5 z-20 flex gap-4\">\r\n                 <button onClick={() => setView('LANDING')} className=\"text-white border border-white/20 px-4 py-2 rounded-full hover:bg-white/10 backdrop-blur-md\">\r\n                    ‚Üê Home\r\n                 </button>\r\n             </div>\r\n\r\n             {/* Search Bar */}\r\n             <div className=\"absolute top-5 left-1/2 transform -translate-x-1/2 z-20 w-full max-w-md\">\r\n                <form onSubmit={handleSearch} className=\"flex gap-2\">\r\n                    <input \r\n                        type=\"text\" \r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        placeholder=\"Search by vibe (e.g. 'sad space movie')...\"\r\n                        className=\"w-full p-3 rounded-full bg-gray-900/80 text-white border border-gray-700 focus:border-cyan-400 focus:outline-none\"\r\n                    />\r\n                    <button type=\"submit\" className=\"p-3 bg-cyan-600 rounded-full hover:bg-cyan-500\">üîç</button>\r\n                </form>\r\n             </div>\r\n\r\n             <NebulaGraph nodes={nodes} onNodeClick={setSelectedMovie} />\r\n\r\n             {/* Detail Modal */}\r\n             {selectedMovie && (\r\n                <div className=\"absolute bottom-10 left-10 z-30 max-w-sm bg-gray-900/90 text-white p-6 rounded-2xl border border-gray-700 backdrop-blur-xl\">\r\n                    <button onClick={() => setSelectedMovie(null)} className=\"absolute top-2 right-4 text-gray-400 hover:text-white\">‚úï</button>\r\n                    <h2 className=\"text-2xl font-bold text-cyan-400\">{selectedMovie.title}</h2>\r\n                    {selectedMovie.poster && <img src={`https://image.tmdb.org/t/p/w500${selectedMovie.poster}`} className=\"w-full h-48 object-cover rounded-lg my-3\"/>}\r\n                    <p className=\"text-sm text-gray-300 line-clamp-3\">{selectedMovie.overview}</p>\r\n                </div>\r\n             )}\r\n        </div>\r\n    );\r\n  }\r\n\r\n  // --- View 2: The Landing Page (Hero) ---\r\n  return (\r\n    <Hero\r\n      trustBadge={{\r\n        text: \"Powered by Vector Embeddings & RAG\",\r\n        icons: [\"üöÄ\", \"ü§ñ\"]\r\n      }}\r\n      headline={{\r\n        line1: \"Project\",\r\n        line2: \"Nebula\"\r\n      }}\r\n      subtitle=\"The Semantic Search Engine for Cinema. Don't search by genre‚Äîsearch by vibe, emotion, and plot using our 3D Constellation Engine.\"\r\n      buttons={{\r\n        primary: {\r\n          text: loading ? \"Loading Galaxy...\" : \"Launch Engine\",\r\n          onClick: launchGraph\r\n        },\r\n        secondary: {\r\n          text: \"View Source\",\r\n          onClick: () => window.open('https://github.com/rajeev8008/nebula', '_blank')\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;;;;;;;;;;;AAGA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,YAAY,uBAAuB;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,mCAAmC;IACnC,MAAM,cAAc;QAClB,WAAW;QACX,IAAI;YACA,8CAA8C;YAC9C,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC;YAC5B,SAAS,IAAI,IAAI,CAAC,KAAK;YACvB,QAAQ;QACZ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM;QACV;QACA,WAAW;IACb;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACA,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAAC,gCAAgC;gBAAE,OAAO;gBAAa,OAAO;YAAG;YAC7F,MAAM,WAAW,IAAI,IAAI,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;oBAAE,GAAG,CAAC;oBAAE,KAAK;gBAAE,CAAC;YACpD,SAAS;QACb,EAAE,OAAO,GAAG;YAAE,QAAQ,KAAK,CAAC;QAAI;IAClC;IAEA,+CAA+C;IAC/C,IAAI,SAAS,SAAS;QACpB,qBACI,8OAAC;YAAI,WAAU;;8BAEV,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAO,SAAS,IAAM,QAAQ;wBAAY,WAAU;kCAA8F;;;;;;;;;;;8BAMvJ,8OAAC;oBAAI,WAAU;8BACZ,cAAA,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACpC,8OAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,aAAY;gCACZ,WAAU;;;;;;0CAEd,8OAAC;gCAAO,MAAK;gCAAS,WAAU;0CAAiD;;;;;;;;;;;;;;;;;8BAIxF,8OAAC;oBAAY,OAAO;oBAAO,aAAa;;;;;;gBAGvC,+BACE,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAO,SAAS,IAAM,iBAAiB;4BAAO,WAAU;sCAAwD;;;;;;sCACjH,8OAAC;4BAAG,WAAU;sCAAoC,cAAc,KAAK;;;;;;wBACpE,cAAc,MAAM,kBAAI,8OAAC;4BAAI,KAAK,CAAC,+BAA+B,EAAE,cAAc,MAAM,EAAE;4BAAE,WAAU;;;;;;sCACvG,8OAAC;4BAAE,WAAU;sCAAsC,cAAc,QAAQ;;;;;;;;;;;;;;;;;;IAK3F;IAEA,0CAA0C;IAC1C,qBACE,8OAAC;QACC,YAAY;YACV,MAAM;YACN,OAAO;gBAAC;gBAAM;aAAK;QACrB;QACA,UAAU;YACR,OAAO;YACP,OAAO;QACT;QACA,UAAS;QACT,SAAS;YACP,SAAS;gBACP,MAAM,UAAU,sBAAsB;gBACtC,SAAS;YACX;YACA,WAAW;gBACT,MAAM;gBACN,SAAS,IAAM,OAAO,IAAI,CAAC,wCAAwC;YACrE;QACF;;;;;;AAGN"}}]
}